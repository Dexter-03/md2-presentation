% !TEX root = ../beamer.tex
\begin{frame}[t]
    \frametitle{DSL}
\end{frame}

\begin{frame}[t]
    \frametitle{Generated Code}
\end{frame}

\begin{frame}[t]
    \frametitle{Generator}
    
	\begin{center}   
	\begin{tikzpicture}[
		>=stealth,
		node distance = 0.75cm and 0.25cm,
		every node/.style={minimum height = 1.75em}]
		\node[draw] (dsl) {DSL\vphantom{Aq}};
		\node[draw, below = of dsl] (md2model) {\MD Model\vphantom{Aq}};
		\draw[->] (md2model) -- node[right] {\tiny{uses}} (dsl);
	    
		\node[below = of md2model, draw] (preprocessor) {Preprocessor\vphantom{Aq}};
		\draw[->] (md2model) -- node[right] {\tiny{processed by}} (preprocessor);
		
		\node[draw, below = of preprocessor] (generator) {Generator\vphantom{Aq}};
		
		\draw[->] (preprocessor) -- node[right] {\tiny{input for}} (generator);
		
		\node[draw, below left = 0.25cm of generator] (mapapps) {map.apps source\vphantom{Aq}};
		\node[draw, below right = 0.25cm of generator] (backend) {backend source\vphantom{Aq}};
		
		\draw[->] (generator) -| node[above] {\tiny{generates}} (mapapps);
		\draw[->] (generator) -| node[above] {\tiny{generates}} (backend);
	\end{tikzpicture}
	\end{center}
\end{frame}

\begin{frame}
    \frametitle{Deployment}
    
    \begin{center}   
	    \begin{tikzpicture}[
	    >=stealth,
	    node distance = 0.75cm and 0.25cm,
	    big/.style = {draw, minimum width = 2.5cm, minimum height = 1.75em}
	    ]
	    \node[big] (generator) {Generator};
	    \node[big, below left = of generator] (mapapps) {map.apps source\vphantom{Aq}};
	    \node[big, below right = of generator] (backend) {backend source\vphantom{Aq}};
	    \draw[->] (generator) -| node[above] {\tiny{generates}} (mapapps);
	    \draw[->] (generator) -| node[above] {\tiny{generates}} (backend);
	    \node[big, rounded corners, below = of mapapps] (jetty) {Jetty\vphantom{Aq}};
	    \node[big, rounded corners, below = of backend] (glassfish) {Glassfish\vphantom{Aq}};
	    \draw[->] (mapapps) -- node[left] {\tiny{deployed on}} (jetty);
	    \draw[->] (backend) -- node[right] {\tiny{deployed on}} (glassfish);
	    \draw[<->] (jetty) -- node[above] (communicates) {\tiny{communicates}} (glassfish);
	    
	    \node[big, rounded corners, below = of communicates] (tomcat) {Tomcat};
	    \node[big, gray, below = 0cm of tomcat] {map.apps full};	    
	    
	    \end{tikzpicture}
    \end{center}
\end{frame}

